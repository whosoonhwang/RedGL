구조화를 시작하면서 하나하나 고민을 해보니 
크게는 두가지 문제를 해결하는 방향으로 생각되어진다. 

1. 렌더러에서 유니폼과 어트리뷰트 추적은 단편적인 루프로 해결해야하고..
2. 유니폼과 어트리뷰트의 변화가 메쉬, 재질,프로그램, 지오메트리중 어떤놈이 물고있느냐에 따른 변화를 추적하는 비용을 피해야한다. 

그렇지않으면...
1. 변화추적비용이 과도하게 발생되고 코드자체의 복잡도만 증가한다.
2. 또한 루프 일방향관리에 영향이 온다.

그럼 매쉬, 재질, 프로그램, 지오메트리 각각을 을 어떤 정보체로 봐야하나문제가있다.
일단 정리가된점은..

메쉬 
1. 메쉬는 지오메트리정보, 재질정보, 그리고 기본 행렬변환(x,y,z,rotationXYZ,scaleXYZ에 사용되는 정보를 문다. 
2. 유니폼등의 정보는 물지않는다. 
   왜냐하면 유니폼정보를 메쉬가 알고있다는것은 하위 지오메트리, 프로그램등을 관리하겠다는 의미가 되기때문..

지오메트리
1. 버퍼 정보를 문다. (버텍스, UV, 노말, 인덱스, 추가필요한 어트리뷰트는 동적으로 할수있어야하곘지 -_-?)
2. 즉 버퍼관련 정보이외에는 필요없다. 

프로그램
1. 쉐이더를 물고있는 녀석.
2. 쉐이더를 물고있기때문에....이녀석은 고정된상태 즉 Object.freeze되어야한다. 
3. 단 쉐이더 코드를 알고있기때문에 유니폼이나 어트리뷰트를 누군가에 알려주어야할 책임이 있다.

재질
1. 프로그램 정보를 알고있는 재질이며..
2. GL측에 넘겨줄 유니폼 리스트를 알고있어야한다. 
   실제 렌더러가 재질의 유니폼리스트를 토대로 업데이트해나간다.

   이는 프로그램이 재질에 등록될때 프로그램을 분석하는것이아니라..
   그책임을 프로그램에게 넘겨주는 방향으로 가야한다. 
   즉 재질이 알고있는 유니폼리스트는 프로그램의 책임이다. 
   프로그램의 3번과 같은 맥락...
   따라서..재질은 재질 팩토리와...(비트맵, 컬러, 퐁, 등등)
   개별 재질 팩토리로 따로 구현해야한다.

3. 2번과 같이 될경우...
결국 프로그램단에서 복합체를 만들고..재질을 생성하게되면...
일방향...으로 전개되면서도 프로그램을 마음껏 조합할수있는 단계로 전개가 가능할듯하다..




